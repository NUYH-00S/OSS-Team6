#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#define MAX 10000
void guide();
void review_read();
void review_write();

int main(void)
{
	guide();
	review_read();
	review_write();
	
	return 0;
}



void guide()
{
	printf("\n\t여행은 어떠셨나요? 종료하시려면 EXIT을 입력하고 엔터를 치세요. \n\n");
}
void review_read()
{
	char* fileName = "review.txt";
	FILE* file = fopen(fileName, "a+b");
	char line[MAX];
	if (file == NULL)
	{
		printf("파일 열기 실패\n");
		return 1;
	}
	while (fgets(line, MAX, file) != NULL)
	{
		printf("%s", line);
	}
	fclose(file);
}
void review_write()
{
	char* fileName = "review.txt";
	FILE* file = fopen(fileName, "a+b");
	char contents[MAX];
	while (1) {
		scanf("%[^\n]", contents);
		getchar();

		if (strcmp(contents, "EXIT") == 0)
		{
			printf("\n\t리뷰 입력을 종료합니다.\n\n");
			break;
		}
		fputs(contents, file);
		fputs("\n", file);
	}
	fclose(file);
}
